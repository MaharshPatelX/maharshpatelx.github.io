{% extends "admin/base.html" %}

{% block content_title %}Skills Management{% endblock %}

{% block content_header_buttons %}
<a href="#" class="add-btn" onclick="showAddForm()">
    <i class="fas fa-plus"></i> Add Skill
</a>
{% endblock %}

{% block content %}
<div id="skillsList">
    <div style="display: grid; grid-template-columns: repeat(1, 1fr); gap: 2rem;">
        <div>
            <h3 style="font-size: 1.1rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid #374151;">Languages & Frameworks</h3>
            
            <div style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-bottom: 2rem;">
                {% for skill in skills if skill.category == "Languages & Frameworks" %}
                <div style="display: flex; align-items: center; gap: 0.5rem; background-color: #374151; padding: 0.5rem 0.75rem; border-radius: 0.5rem;">
                    <span>{{ skill.name }}</span>
                    <form action="{{ url_for('content.delete_skill', skill_id=skill._id) }}" method="POST" style="margin: 0;">
                        <button type="submit" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0.25rem;">
                            <i class="fas fa-times"></i>
                        </button>
                    </form>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <div>
            <h3 style="font-size: 1.1rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid #374151;">Machine Learning</h3>
            
            <div style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-bottom: 2rem;">
                {% for skill in skills if skill.category == "Machine Learning" %}
                <div style="display: flex; align-items: center; gap: 0.5rem; background-color: #374151; padding: 0.5rem 0.75rem; border-radius: 0.5rem;">
                    <span>{{ skill.name }}</span>
                    <form action="{{ url_for('content.delete_skill', skill_id=skill._id) }}" method="POST" style="margin: 0;">
                        <button type="submit" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0.25rem;">
                            <i class="fas fa-times"></i>
                        </button>
                    </form>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <div>
            <h3 style="font-size: 1.1rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 1px solid #374151;">Tools & Platforms</h3>
            
            <div style="display: flex; flex-wrap: wrap; gap: 0.75rem;">
                {% for skill in skills if skill.category == "Tools & Platforms" %}
                <div style="display: flex; align-items: center; gap: 0.5rem; background-color: #374151; padding: 0.5rem 0.75rem; border-radius: 0.5rem;">
                    <span>{{ skill.name }}</span>
                    <form action="{{ url_for('content.delete_skill', skill_id=skill._id) }}" method="POST" style="margin: 0;">
                        <button type="submit" style="background: none; border: none; color: #9ca3af; cursor: pointer; padding: 0.25rem;">
                            <i class="fas fa-times"></i>
                        </button>
                    </form>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<div id="addSkillForm" style="display: none;">
    <h2 style="font-size: 1.25rem; margin-bottom: 1.5rem;">Add New Skill</h2>
    
    <form action="{{ url_for('content.add_skill') }}" method="POST">
        <div class="form-group">
            <label for="name">Skill Name</label>
            <input type="text" id="name" name="name" required>
        </div>
        
        <div class="form-group">
            <label for="category">Category</label>
            <select id="category" name="category" required>
                <option value="">Select a category</option>
                <option value="Languages & Frameworks">Languages & Frameworks</option>
                <option value="Machine Learning">Machine Learning</option>
                <option value="Tools & Platforms">Tools & Platforms</option>
            </select>
        </div>
        
        <div style="display: flex; gap: 1rem; justify-content: flex-end;">
            <button type="button" class="cancel-btn" onclick="hideAddForm()" style="background-color: transparent; border: 1px solid #4b5563; color: var(--text-color); padding: 0.75rem 1.5rem; border-radius: 0.5rem; cursor: pointer;">Cancel</button>
            <button type="submit" class="submit-btn">Add Skill</button>
        </div>
    </form>
</div>

{% block extra_js %}
<script>
    // Add Skill Form
    function showAddForm() {
        document.getElementById('skillsList').style.display = 'none';
        document.getElementById('addSkillForm').style.display = 'block';
    }
    
    function hideAddForm() {
        document.getElementById('skillsList').style.display = 'block';
        document.getElementById('addSkillForm').style.display = 'none';
    }
</script>
{% endblock %}
{% endblock %}